{% extends 'layouts/base.html' %}

{% block content %} 

<body>

    <header>
        <h2 class="text-center">File Compressor</h2>
    </header>

    <main class="container">
        <form method="POST" enctype="multipart/form-data" id="upload-form" class="py-4">
            {% csrf_token %}
            
            <!-- Drag-and-drop area -->
            <div class="upload-area" id="upload-area">
                <p>Drag and drop your files here, or click to select</p>
                <input type="file" name="files" id="file-input" multiple required hidden />
            </div>

            <div class="form-group mt-4">
                <button type="submit" class="btn btn-primary btn-lg w-100">Compress Files</button>
            </div>

            <!-- Display success message -->
            {% if success_message %}
                <div class="alert alert-success text-center mt-4">
                    {{ success_message }} 
                </div>
                <div class="text-center mt-3">
                    <a href="{{ download_url }}" class="btn btn-success btn-lg" download>Download Compressed File</a>
                </div>
            {% endif %}

            <!-- Display error message -->
            {% if error_message %}
                <div class="alert alert-danger text-center mt-4">
                    {{ error_message }}
                </div>
            {% endif %}

        </form>

        <div class="container mt-5">
            <h3 class="text-center">How to Compress Files?</h3>
            <div class="row text-center">
                <!-- First Step: Upload Files -->
                <div class="col-md-4 mb-4">
                    <div class="step">
                        <div class="icon-container">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 16 16" fill="currentColor">
                                <path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <h4>Upload Your Files</h4>
                        <p>Drag and drop your files into the area above, or click to select them manually.</p>
                    </div>
                </div>
                
                <!-- Second Step: Compression Process -->
                <div class="col-md-4 mb-4">
                    <div class="step">
                        <div class="icon-container">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="currentColor">
                                <circle cx="20" cy="20" r="18" fill="#4CAF50" />
                                <polygon points="12,20 9,17 9,23" fill="#FFFFFF"/>
                                <polygon points="28,20 31,17 31,23" fill="#FFFFFF"/>
                            </svg>
                        </div>
                        <h4>Compression in Progress</h4>
                        <p>Click the “Compress Files” button to begin compressing your selected files.</p>
                    </div>
                </div>

                <!-- Third Step: Download -->
                <div class="col-md-4 mb-4">
                    <div class="step">
                        <div class="icon-container">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.881 5.223a.496.496 0 0 0-.747-.412c-.672.392-1.718.898-2.643.898-.421 0-.849-.064-1.289-.198a5.712 5.712 0 0 1-.808-.309c-1.338-.639-2.567-1.767-3.696-2.889a1.008 1.008 0 0 0-.698-.29 1.008 1.008 0 0 0-.698.29c-1.129 1.122-2.358 2.25-3.696 2.889h-.001a5.655 5.655 0 0 1-.807.309c-.44.134-.869.198-1.289.198-.925 0-1.971-.507-2.643-.898a.496.496 0 0 0-.747.412c-.061 1.538-.077 4.84.688 7.444 1.399 4.763 4.48 7.976 8.91 9.292l.14.041.14-.014V22v-.014H12l.143.014.14-.041c4.43-1.316 7.511-4.529 8.91-9.292.765-2.604.748-5.906.688-7.444z"/>
                            </svg>
                        </div>
                        <h4>Download Your Files</h4>
                        <p>Once your files are compressed, click to download the compressed file.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

</body>

{% endblock %}
